!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function f(){return s(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function m(t){g=t}const $=[],b=[],_=[],v=[],y=Promise.resolve();let w=!1;function x(t){_.push(t)}let j=!1;const S=new Set;function k(){if(!j){j=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];m(e),A(e.$$)}for($.length=0;b.length;)b.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];S.has(e)||(S.add(e),e())}_.length=0}while($.length);for(;v.length;)v.pop()();w=!1,j=!1,S.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const E=new Set;function I(t,e){-1===t.$$.dirty[0]&&($.push(t),w||(w=!0,y.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(l,c,u,i,a,s,f=[-1]){const d=g;m(l);const p=c.props||{},h=l.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:f};let $=!1;var b,_;h.ctx=u?u(l,p,(t,e,...n)=>{const o=n.length?n[0]:e;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(h.bound[t]&&h.bound[t](o),$&&I(l,t)),e}):[],h.update(),$=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),c.target&&(c.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(c.target)):h.fragment&&h.fragment.c(),c.intro&&((b=l.$$.fragment)&&b.i&&(E.delete(b),b.i(_))),function(t,n,l){const{fragment:c,on_mount:u,on_destroy:i,after_update:a}=t.$$;c&&c.m(n,l),x(()=>{const n=u.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]}),a.forEach(x)}(l,c.target,c.anchor),k()),m(d)}function H(t,e,n){const o=t.slice();return o[17]=e[n],o}function M(t){let e,n,r,l,g,m,$,b,_,v,y,w,x,j,S,k,A,E=t[2]?"Hide":"Show",I=t[4],C=[];for(let e=0;e<I.length;e+=1)C[e]=N(H(t,I,e));return{c(){e=a("button"),n=s(E),r=s(" owner"),l=f(),g=a("button"),g.textContent="Set countdown",m=f(),$=a("main"),b=a("h1"),_=s("Join code: "),v=s(t[0]),y=f(),w=a("p"),x=s("Time left: "),j=s(t[3]),S=f(),k=a("ol");for(let t=0;t<C.length;t+=1)C[t].c();p(e,"class","owner svelte-ol6ecg"),p(g,"class","timeleft svelte-ol6ecg"),p(b,"class","svelte-ol6ecg"),p($,"class","svelte-ol6ecg")},m(o,i){u(o,e,i),c(e,n),c(e,r),u(o,l,i),u(o,g,i),u(o,m,i),u(o,$,i),c($,b),c(b,_),c(b,v),c($,y),c($,w),c(w,x),c(w,j),c($,S),c($,k);for(let t=0;t<C.length;t+=1)C[t].m(k,null);A=[d(e,"click",t[16]),d(g,"click",t[5])]},p(t,e){if(4&e&&E!==(E=t[2]?"Hide":"Show")&&h(n,E),1&e&&h(v,t[0]),8&e&&h(j,t[3]),16&e){let n;for(I=t[4],n=0;n<I.length;n+=1){const o=H(t,I,n);C[n]?C[n].p(o,e):(C[n]=N(o),C[n].c(),C[n].m(k,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=I.length}},d(t){t&&i(e),t&&i(l),t&&i(g),t&&i(m),t&&i($),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(C,t),o(A)}}}function N(t){let e,n,o,r,l=t[17].name+"",f=t[17].stars+"";return{c(){e=a("li"),n=s(l),o=s(" - "),r=s(f),p(e,"class","svelte-ol6ecg")},m(t,l){u(t,e,l),c(e,n),c(e,o),c(e,r)},p(t,e){16&e&&l!==(l=t[17].name+"")&&h(n,l),16&e&&f!==(f=t[17].stars+"")&&h(r,f)},d(t){t&&i(e)}}}function L(e){let n,o,r,l,g,m,$=e[1]?"Hide":"Show",b=e[1]&&M(e);return{c(){n=a("button"),o=s($),r=s(" leaderboard"),l=f(),b&&b.c(),g=s(""),p(n,"class","enable svelte-ol6ecg")},m(t,i){u(t,n,i),c(n,o),c(n,r),u(t,l,i),b&&b.m(t,i),u(t,g,i),m=d(n,"click",e[15])},p(t,[e]){2&e&&$!==($=t[1]?"Hide":"Show")&&h(o,$),t[1]?b?b.p(t,e):(b=M(t),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&i(n),t&&i(l),b&&b.d(t),t&&i(g),m()}}}function O(t){return("0"+t).substr(-2)}function T(t,e,n){let{api_url:o}=e,{join_code:r}=e,l=!1,c=!1,u=null,i=null,a=null,s=null,f="00:00:00",d=[];g();let p=0;function h(){let t=s-Date.now();if(t<=0)return n(3,f="00:00:00"),void clearInterval(a);var e=Math.floor(t/1e3/60/60);t-=1e3*e*60*60;var o=Math.floor(t/1e3/60);t-=1e3*o*60;var r=Math.floor(t/1e3);t-=1e3*r,n(3,f=`${O(e)}:${O(o)}:${O(r)}`),o>=5&&p%60==0?g():o<5&&o>=1&&p%10==0?g():0===o&&g(),p+=1}async function g(){let t=await fetch(o),e=await t.json();n(7,u=e.owner_id);let r=Object.values(e.members);r.sort((t,e)=>e.stars-t.stars),n(11,d=r)}let m;return t.$set=t=>{"api_url"in t&&n(6,o=t.api_url),"join_code"in t&&n(0,r=t.join_code)},t.$$.update=()=>{2180&t.$$.dirty&&n(4,m=c?d:d.filter(t=>t.id!==u))},[r,l,c,f,m,function(){let t=prompt("Countdown in minutes:").replace(/[^0-9]/g,"");i=parseInt(t),s=Date.now()+60*i*1e3,h(),clearInterval(a),a=setInterval(h,1e3)},o,u,i,a,s,d,p,h,g,()=>n(1,l=!l),()=>n(2,c=!c)]}class q extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),C(this,t,T,L,l,{api_url:6,join_code:0})}}function D(t){return document.querySelector(t)}if(P()&&J()){new q({target:document.body,props:{api_url:J(),join_code:localStorage.getItem("aoc-joincode")}})}function P(){return document.title.includes("Private Leaderboard - Advent of Code")}function B(){let t=D("main > article code");if(!t)return null;let e=t.innerText,n=e.split("-");if(2!==n.length)return null;let o=n[0].replace(/[^0-9]/,""),r=n[1].replace(/[^abcdef0-9]/,"");return o.length!==n[0].length&&r.length!==n[1].length?null:e}function J(){let t=D("#api_info > a");if(!t)return null;let e=t.getAttribute("href");return location.host.includes("localhost")?`https://cors.seljebu.no/https://adventofcode.com${e}`:`https://adventofcode.com${e}`}P()&&B()&&localStorage.setItem("aoc-joincode",B())}();
//# sourceMappingURL=bundle.js.map
